{"version":3,"file":"cat-toggle.min.js","names":["document","addEventListener","categoryButtons","querySelectorAll","postContainer","querySelector","loadMoreButton","getElementById","forEach","button","categoryID","this","getAttribute","maxPosts","btn","classList","remove","add","fetch","catToggleData","ajaxurl","method","headers","body","URLSearchParams","action","category","current_page","then","response","json","data","success","innerHTML","setAttribute","style","display","parseInt","catch","error","console"],"sources":["cat-toggle.js"],"mappings":"AAAAA,SAASC,iBAAiB,mBAAoB,WAC1C,MAAMC,EAAkBF,SAASG,iBAAiB,QAC5CC,EAAgBJ,SAASK,cAAc,iBACvCC,EAAiBN,SAASO,eAAe,mBAE/CL,EAAgBM,QAAQC,IACpBA,EAAOR,iBAAiB,QAAS,WAC7B,MAAMS,EAAaC,KAAKC,aAAa,WAC/BC,EAAWF,KAAKC,aAAa,kBAGnCV,EAAgBM,QAAQM,GAAOA,EAAIC,UAAUC,OAAO,WACpDL,KAAKI,UAAUE,IAAI,UAGnBC,MAAMC,cAAcC,QAAS,CACzBC,OAAQ,OACRC,QAAS,CAAE,eAAgB,qCAC3BC,KAAM,IAAIC,gBAAgB,CACtBC,OAAQ,yBACRC,SAAUhB,EACViB,aAAc,MAGrBC,KAAKC,GAAYA,EAASC,QAC1BF,KAAKG,IACEA,EAAKC,SACL5B,EAAc6B,UAAYF,EAAKA,KAG/BzB,EAAe4B,aAAa,YAAa,GACzC5B,EAAe4B,aAAa,iBAAkBrB,GAC9CP,EAAe6B,MAAMC,QAAWC,SAASxB,GAAY,EAAK,QAAU,QAEpET,EAAc6B,UAAY,2BAGjCK,MAAMC,GAASC,QAAQD,MAAM,SAAUA,GAC5C,IAER","ignoreList":[],"sourcesContent":["document.addEventListener('DOMContentLoaded', function () {\n    const categoryButtons = document.querySelectorAll('.cat');\n    const postContainer = document.querySelector('.post-teasers');\n    const loadMoreButton = document.getElementById('show-more-posts');\n\n    categoryButtons.forEach(button => {\n        button.addEventListener('click', function () {\n            const categoryID = this.getAttribute('data-id');\n            const maxPosts = this.getAttribute('data-max-posts');\n\n            // Remove active class from all buttons and add to selected one\n            categoryButtons.forEach(btn => btn.classList.remove('active'));\n            this.classList.add('active');\n\n            // Send AJAX request\n            fetch(catToggleData.ajaxurl, {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/x-www-form-urlencoded' },\n                body: new URLSearchParams({\n                    action: 'load_more_posts_in_cat',\n                    category: categoryID,\n                    current_page: 0, // Reset pagination on toggle\n                })\n            })\n            .then(response => response.json())\n            .then(data => {\n                if (data.success) {\n                    postContainer.innerHTML = data.data;\n\n                    // Update \"Show More\" button attributes\n                    loadMoreButton.setAttribute('data-page', 1);\n                    loadMoreButton.setAttribute('data-max-posts', maxPosts);\n                    loadMoreButton.style.display = (parseInt(maxPosts) > 4) ? 'block' : 'none';\n                } else {\n                    postContainer.innerHTML = '<p>No posts found.</p>';\n                }\n            })\n            .catch(error => console.error('Error:', error));\n        });\n    });\n});\n"]}